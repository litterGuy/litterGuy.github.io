---
layout: post
title:  "红黑树"
date:   2019-04-26 11:32:02
categories: 
   - JDK算法
tags:
   - JDK算法
---

二叉查找树（BST）具备什么特性呢？

> 
1.左子树上所有结点的值均小于或等于它的根结点的值。
>
2.右子树上所有结点的值均大于或等于它的根结点的值。
>
3.左、右子树也分别为二叉排序树。

红黑树是一种平衡二叉查找树。除了符合二叉查找树的基本特性外，它还具有下列的附加特性：

> 1.节点是红色或黑色。
>
2.根节点是黑色。
>
3.每个叶子节点都是黑色的空节点（NIL节点）。
>
4 每个红色节点的两个子节点都是黑色。(从每个叶子到根的所有路径上不能有两个连续的红色节点)
>
5.从任一节点到其每个叶子的所有路径都包含相同数目的黑色节点。

以下是几种需要修复的场景：

插入操作

> 新插入的节点是红色的，插入修复操作如果遇到父节点的颜色为黑则修复操作结束。也就是说，只有在父节点为红色节点的时候是需要插入修复操作的。
>
插入修复操作分为以下的三种情况，而且新插入的节点的父节点都是红色的：
>
1. 叔叔节点也为红色。
2. 叔叔节点为空，且祖父节点、父节点和新节点处于一条斜线上。
3. 叔叔节点为空，且祖父节点、父节点和新节点不处于一条斜线上。

删除操作

> 删除修复操作在遇到被删除的节点是红色节点或者到达root节点时，修复操作完毕。
>
删除修复操作是针对删除黑色节点才有的，当黑色节点被删除后会让整个树不符合RBTree的定义的第四条。需要做的处理是从兄弟节点上借调黑色的节点过来，如果兄弟节点没有黑节点可以借调的话，就只能往上追溯，将每一级的黑节点数减去一个，使得整棵树符合红黑树的定义。
>
删除操作的总体思想是从兄弟节点借调黑色节点使树保持局部的平衡，如果局部的平衡达到了，就看整体的树是否是平衡的，如果不平衡就接着向上追溯调整。
>
删除修复操作分为四种情况(删除黑节点后)：
>
1. 待删除的节点的兄弟节点是红色的节点。
2. 待删除的节点的兄弟节点是黑色的节点，且兄弟节点的子节点都是黑色的。
3. 待调整的节点的兄弟节点是黑色的节点，且兄弟节点的左子节点是红色的，右节点是黑色的(兄弟节点在右边)，如果兄弟节点在左边的话，就是兄弟节点的右子节点是红色的，左节点是黑色的。
4. 待调整的节点的兄弟节点是黑色的节点，且右子节点是是红色的(兄弟节点在右边)，如果兄弟节点在左边，则就是对应的就是左节点是红色的。


